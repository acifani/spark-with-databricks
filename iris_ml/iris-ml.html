<!DOCTYPE html>
<html>
<head>
  <meta name="databricks-html-version" content="1">
<title>iris-ml - Databricks</title>

<meta charset="utf-8">
<meta name="google" content="notranslate">
<meta http-equiv="Content-Language" content="en">
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700">

<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/lib/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/lib/jquery-ui-bundle/jquery-ui.min.css">
<link rel="stylesheet" type="text/css" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/css/main.css">
<link rel="stylesheet" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/css/print.css" media="print">
<link rel="icon" type="image/png" href="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/img/favicon.ico"/>
<script>window.settings = {"enableSshKeyUI":true,"enableOnDemandClusterType":true,"enableAutoCompleteAsYouType":[],"devTierName":"Community Edition","workspaceFeaturedLinks":[{"linkURI":"https://docs.databricks.com/index.html","displayName":"Documentation","icon":"question"},{"linkURI":"https://docs.databricks.com/release-notes/product/latest.html","displayName":"Release Notes","icon":"code"},{"linkURI":"https://docs.databricks.com/spark/latest/training/index.html","displayName":"Training & Tutorials","icon":"graduation-cap"}],"enableClearStateFeature":false,"dbcForumURL":"http://forums.databricks.com/","enableProtoClusterInfoDeltaPublisher":false,"maxCustomTags":45,"enableInstanceProfilesUIInJobs":true,"nodeInfo":{"node_types":[{"support_ssh":false,"spark_heap_memory":4800,"instance_type_id":"r3.2xlarge","spark_core_oversubscription_factor":8.0,"node_type_id":"dev-tier-node","description":"Community Optimized","support_cluster_tags":false,"container_memory_mb":6000,"memory_mb":6144,"category":"Community Edition","num_cores":0.88,"support_ebs_volumes":false}],"default_node_type_id":"dev-tier-node"},"enableClusterAcls":true,"notebookRevisionVisibilityHorizon":999999,"enableTableHandler":true,"maxEbsVolumesPerInstance":10,"isAdmin":true,"deltaProcessingBatchSize":1000,"enableLargeResultDownload":true,"zoneInfos":[{"id":"us-west-2c","isDefault":true},{"id":"us-west-2b","isDefault":false},{"id":"us-west-2a","isDefault":false}],"enableEBSVolumesUIForJobs":true,"enablePublishNotebooks":true,"enableMaxConcurrentRuns":true,"enableJobAclsConfig":false,"enableFullTextSearch":false,"enableElasticSparkUI":false,"enableNewClustersCreate":false,"clusters":true,"allowRunOnPendingClusters":true,"fileStoreBase":"FileStore","enableSshKeyUIInJobs":true,"enableDetachAndAttachSubMenu":false,"configurableSparkOptionsSpec":[{"keyPattern":"spark\\.kryo(\\.[^\\.]+)+","valuePattern":".*","keyPatternDisplay":"spark.kryo.*","valuePatternDisplay":"*","description":"Configuration options for Kryo serialization"},{"keyPattern":"spark\\.io\\.compression\\.codec","valuePattern":"(lzf|snappy|org\\.apache\\.spark\\.io\\.LZFCompressionCodec|org\\.apache\\.spark\\.io\\.SnappyCompressionCodec)","keyPatternDisplay":"spark.io.compression.codec","valuePatternDisplay":"snappy|lzf","description":"The codec used to compress internal data such as RDD partitions, broadcast variables and shuffle outputs."},{"keyPattern":"spark\\.serializer","valuePattern":"(org\\.apache\\.spark\\.serializer\\.JavaSerializer|org\\.apache\\.spark\\.serializer\\.KryoSerializer)","keyPatternDisplay":"spark.serializer","valuePatternDisplay":"org.apache.spark.serializer.JavaSerializer|org.apache.spark.serializer.KryoSerializer","description":"Class to use for serializing objects that will be sent over the network or need to be cached in serialized form."},{"keyPattern":"spark\\.rdd\\.compress","valuePattern":"(true|false)","keyPatternDisplay":"spark.rdd.compress","valuePatternDisplay":"true|false","description":"Whether to compress serialized RDD partitions (e.g. for StorageLevel.MEMORY_ONLY_SER). Can save substantial space at the cost of some extra CPU time."},{"keyPattern":"spark\\.speculation","valuePattern":"(true|false)","keyPatternDisplay":"spark.speculation","valuePatternDisplay":"true|false","description":"Whether to use speculation (recommended off for streaming)"},{"keyPattern":"spark\\.es(\\.[^\\.]+)+","valuePattern":".*","keyPatternDisplay":"spark.es.*","valuePatternDisplay":"*","description":"Configuration options for ElasticSearch"},{"keyPattern":"es(\\.([^\\.]+))+","valuePattern":".*","keyPatternDisplay":"es.*","valuePatternDisplay":"*","description":"Configuration options for ElasticSearch"},{"keyPattern":"spark\\.(storage|shuffle)\\.memoryFraction","valuePattern":"0?\\.0*([1-9])([0-9])*","keyPatternDisplay":"spark.(storage|shuffle).memoryFraction","valuePatternDisplay":"(0.0,1.0)","description":"Fraction of Java heap to use for Spark's shuffle or storage"},{"keyPattern":"spark\\.streaming\\.backpressure\\.enabled","valuePattern":"(true|false)","keyPatternDisplay":"spark.streaming.backpressure.enabled","valuePatternDisplay":"true|false","description":"Enables or disables Spark Streaming's internal backpressure mechanism (since 1.5). This enables the Spark Streaming to control the receiving rate based on the current batch scheduling delays and processing times so that the system receives only as fast as the system can process. Internally, this dynamically sets the maximum receiving rate of receivers. This rate is upper bounded by the values `spark.streaming.receiver.maxRate` and `spark.streaming.kafka.maxRatePerPartition` if they are set."},{"keyPattern":"spark\\.streaming\\.receiver\\.maxRate","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.receiver.maxRate","valuePatternDisplay":"numeric","description":"Maximum rate (number of records per second) at which each receiver will receive data. Effectively, each stream will consume at most this number of records per second. Setting this configuration to 0 or a negative number will put no limit on the rate. See the deployment guide in the Spark Streaming programing guide for mode details."},{"keyPattern":"spark\\.streaming\\.kafka\\.maxRatePerPartition","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.kafka.maxRatePerPartition","valuePatternDisplay":"numeric","description":"Maximum rate (number of records per second) at which data will be read from each Kafka partition when using the Kafka direct stream API introduced in Spark 1.3. See the Kafka Integration guide for more details."},{"keyPattern":"spark\\.streaming\\.kafka\\.maxRetries","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.kafka.maxRetries","valuePatternDisplay":"numeric","description":"Maximum number of consecutive retries the driver will make in order to find the latest offsets on the leader of each partition (a default value of 1 means that the driver will make a maximum of 2 attempts). Only applies to the Kafka direct stream API introduced in Spark 1.3."},{"keyPattern":"spark\\.streaming\\.ui\\.retainedBatches","valuePattern":"^([0-9]{1,})$","keyPatternDisplay":"spark.streaming.ui.retainedBatches","valuePatternDisplay":"numeric","description":"How many batches the Spark Streaming UI and status APIs remember before garbage collecting."}],"enableReactNotebookComments":true,"enableAdminPasswordReset":false,"enableResetPassword":true,"maxClusterTagValueLength":255,"enableJobsSparkUpgrade":true,"sparkVersions":[{"key":"1.6.x-ubuntu15.10","displayName":"Spark 1.6.x (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":false,"customerVisible":false},{"key":"1.4.x-ubuntu15.10","displayName":"Spark 1.4.1 (Hadoop 1)","packageLabel":"spark-image-f710650fb8aaade8e4e812368ea87c45cd8cd0b5e6894ca6c94f3354e8daa6dc","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.1.0-db2-scala2.11","displayName":"Spark 2.1.0-db2 (Scala 2.11)","packageLabel":"spark-image-267c4490a3ab8a39acdbbd9f1d36f6decdecebf013e30dd677faff50f1d9cf8b","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.0-ubuntu15.10-scala2.10","displayName":"Spark 2.0.0 (Scala 2.10)","packageLabel":"spark-image-073c1b52ace74f251fae2680624a0d8d184a8b57096d1c21c5ce56c29be6a37a","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.2-db3-scala2.10","displayName":"Spark 2.0.2-db3 (Scala 2.10)","packageLabel":"spark-image-584091dedb690de20e8cf22d9e02fdcce1281edda99eedb441a418d50e28088f","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.1.0-db1-scala2.11","displayName":"Spark 2.1.0-db1 (Scala 2.11)","packageLabel":"spark-image-e8ad5b72cf0f899dcf2b4720c1f572ab0e87a311d6113b943b4e1d4a7edb77eb","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.1.0-db2-scala2.10","displayName":"Spark 2.1.0-db2 (Scala 2.10)","packageLabel":"spark-image-a2ca4f6b58c95f78dca91b1340305ab3fe32673bd894da2fa8e1dc8a9f8d0478","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.x-ubuntu15.10-hadoop1","displayName":"Spark 1.6.x (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":false,"customerVisible":false},{"key":"1.6.1-ubuntu15.10-hadoop1","displayName":"Spark 1.6.1 (Hadoop 1)","packageLabel":"spark-image-21d1cac181b7b8856dd1b4214a3a734f95b5289089349db9d9c926cb87d843db","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.x-gpu-scala2.11","displayName":"Spark 2.0 (Auto-updating, GPU, Scala 2.11 experimental)","packageLabel":"spark-image-6c2dd678fff350c03ba0e945bab52d0080cd857a39c99a22131b3e824bb8096f","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.2-ubuntu15.10-hadoop1","displayName":"Spark 1.6.2 (Hadoop 1)","packageLabel":"spark-image-8cea23fb9094e174bf5815d79009f4a8e383eb86cf2909cf6c6434ed8da2a16a","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.3-db1-hadoop2-scala2.10","displayName":"Spark 1.6.3-db1 (Hadoop 2, Scala 2.10)","packageLabel":"spark-image-eaa8d9b990015a14e032fb2e2e15be0b8d5af9627cd01d855df728b67969d5d9","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.2-ubuntu15.10-hadoop2","displayName":"Spark 1.6.2 (Hadoop 2)","packageLabel":"spark-image-161245e66d887cd775e23286a54bab0b146143e1289f25bd1732beac454a1561","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.1-ubuntu15.10-hadoop2","displayName":"Spark 1.6.1 (Hadoop 2)","packageLabel":"spark-image-4cafdf8bc6cba8edad12f441e3b3f0a8ea27da35c896bc8290e16b41fd15496a","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.2-db2-scala2.10","displayName":"Spark 2.0.2-db2 (Scala 2.10)","packageLabel":"spark-image-36d48f22cca7a907538e07df71847dd22aaf84a852c2eeea2dcefe24c681602f","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.x-ubuntu15.10-scala2.11","displayName":"Spark 2.0 (Ubuntu 15.10, Scala 2.11, deprecated)","packageLabel":"spark-image-8e1c50d626a52eac5a6c8129e09ae206ba9890f4523775f77af4ad6d99a64c44","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.x-scala2.10","displayName":"Spark 2.0 (Auto-updating, Scala 2.10)","packageLabel":"spark-image-dd209a93dfbacf46690f2f46369e1df041a4c7f7c51e9e7752f6106dfcca9295","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.2-db1-scala2.11","displayName":"Spark 2.0.2-db1 (Scala 2.11)","packageLabel":"spark-image-c2d623f03dd44097493c01aa54a941fc31978ebe6d759b36c75b716b2ff6ab9c","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"1.5.x-ubuntu15.10","displayName":"Spark 1.5.2 (Hadoop 1)","packageLabel":"spark-image-c9d2a8abf41f157a4acc6d52bc721090346f6fea2de356f3a66e388f54481698","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.x-scala2.11","displayName":"Spark 2.0 (Auto-updating, Scala 2.11)","packageLabel":"spark-image-6fb640835bd45a2e2095758663e237aefe80671acacc2e6377eec5ecccb9004b","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.1.x-scala2.10","displayName":"Spark 2.1 (Auto-updating, Scala 2.10)","packageLabel":"spark-image-ca4b827492f83a5a1402629a8aa9e58d1ea1f0f6b1f81b1f1c8fffc7bab62ce9","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.2-db2-scala2.11","displayName":"Spark 2.0.2-db2 (Scala 2.11)","packageLabel":"spark-image-4fa852ba378e97815083b96c9cada7b962a513ec23554a5fc849f7f1dd8c065a","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.3.x-ubuntu15.10","displayName":"Spark 1.3.0 (Hadoop 1)","packageLabel":"spark-image-40d2842670bc3dc178b14042501847d76171437ccf70613fa397a7a24c48b912","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.1-db1-scala2.11","displayName":"Spark 2.0.1-db1 (Scala 2.11)","packageLabel":"spark-image-10ab19f634bbfdb860446c326a9f76dc25bfa87de6403b980566279142a289ea","upgradable":true,"deprecated":true,"customerVisible":true},{"key":"2.0.2-db3-scala2.11","displayName":"Spark 2.0.2-db3 (Scala 2.11)","packageLabel":"spark-image-7fd7aaa89d55692e429115ae7eac3b1a1dc4de705d50510995f34306b39c2397","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.3-db1-hadoop1-scala2.10","displayName":"Spark 1.6.3-db1 (Hadoop 1, Scala 2.10)","packageLabel":"spark-image-d50af1032799546b8ccbeeb76889a20c819ebc2a0e68ea20920cb30d3895d3ae","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.0.2-db1-scala2.10","displayName":"Spark 2.0.2-db1 (Scala 2.10)","packageLabel":"spark-image-654bdd6e9bad70079491987d853b4b7abf3b736fff099701501acaabe0e75c41","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.x-ubuntu15.10","displayName":"Spark 2.0 (Ubuntu 15.10, Scala 2.10, deprecated)","packageLabel":"spark-image-a659f3909d51b38d297b20532fc807ecf708cfb7440ce9b090c406ab0c1e4b7e","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"2.0.1-db1-scala2.10","displayName":"Spark 2.0.1-db1 (Scala 2.10)","packageLabel":"spark-image-5a13c2db3091986a4e7363006cc185c5b1108c7761ef5d0218506cf2e6643840","upgradable":true,"deprecated":true,"customerVisible":true},{"key":"2.1.x-scala2.11","displayName":"Spark 2.1 (Auto-updating, Scala 2.11)","packageLabel":"spark-image-22ee201c31a037446476259c6efb835d5da16d8e49a677a6c532065503c14e0a","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"2.1.0-db1-scala2.10","displayName":"Spark 2.1.0-db1 (Scala 2.10)","packageLabel":"spark-image-f0ab82a5deb7908e0d159e9af066ba05fb56e1edb35bdad41b7ad2fd62a9b546","upgradable":true,"deprecated":false,"customerVisible":true},{"key":"1.6.0-ubuntu15.10","displayName":"Spark 1.6.0 (Hadoop 1)","packageLabel":"spark-image-10ef758029b8c7e19cd7f4fb52fff9180d75db92ca071bd94c47f3c1171a7cb5","upgradable":true,"deprecated":true,"customerVisible":false},{"key":"1.6.x-ubuntu15.10-hadoop2","displayName":"Spark 1.6.x (Hadoop 2)","packageLabel":"spark-image-161245e66d887cd775e23286a54bab0b146143e1289f25bd1732beac454a1561","upgradable":true,"deprecated":false,"customerVisible":false},{"key":"2.0.0-ubuntu15.10-scala2.11","displayName":"Spark 2.0.0 (Scala 2.11)","packageLabel":"spark-image-b4ec141e751f201399f8358a82efee202560f7ed05e1a04a2ae8778f6324b909","upgradable":true,"deprecated":true,"customerVisible":false}],"enableRestrictedClusterCreation":true,"enableFeedback":true,"enableClusterAutoScaling":false,"enableUserVisibleDefaultTags":true,"defaultNumWorkers":0,"serverContinuationTimeoutMillis":10000,"driverStderrFilePrefix":"stderr","enableNotebookRefresh":false,"accountsOwnerUrl":"https://accounts.cloud.databricks.com/registration.html#login","driverStdoutFilePrefix":"stdout","defaultNodeTypeToPricingUnitsMap":{"r3.2xlarge":2,"class-node":1,"p2.8xlarge":16,"r3.8xlarge":8,"dev-tier-node":1,"c3.8xlarge":4,"r3.4xlarge":4,"i2.4xlarge":6,"development-node":1,"i2.2xlarge":3,"g2.8xlarge":6,"memory-optimized":1,"p2.16xlarge":24,"c3.2xlarge":1,"c4.2xlarge":1,"i2.xlarge":1.5,"compute-optimized":1,"c4.4xlarge":2,"c3.4xlarge":2,"g2.2xlarge":1.5,"p2.xlarge":2,"c4.8xlarge":4,"r3.xlarge":1,"i2.8xlarge":12},"enableSparkDocsSearch":true,"sparkHistoryServerEnabled":true,"enableEBSVolumesUI":false,"sanitizeMarkdownHtml":true,"enableIPythonImportExport":true,"enableClusterTagsUIForJobs":true,"enableClusterTagsUI":true,"enableNotebookHistoryDiffing":true,"branch":"2.37","accountsLimit":3,"enableSparkEnvironmentVariables":true,"enableX509Authentication":false,"enableNotebookGitBranching":true,"local":false,"enableClusterAutoScalingForJobs":false,"enableStrongPassword":false,"displayDefaultContainerMemoryGB":6,"disableS3TableImport":false,"deploymentMode":"production","useSpotForWorkers":true,"enableUserInviteWorkflow":true,"enableStaticNotebooks":true,"enableCssTransitions":true,"minClusterTagKeyLength":1,"showHomepageFeaturedLinks":true,"pricingURL":"https://databricks.com/product/pricing","enableClusterAclsConfig":false,"useTempS3UrlForTableUpload":false,"notifyLastLogin":false,"enableNotebookGitVersioning":true,"files":"files/","feedbackEmail":"feedback@databricks.com","enableDriverLogsUI":true,"enableWorkspaceAclsConfig":false,"dropzoneMaxFileSize":4096,"enableNewClustersList":false,"enableNewDashboardViews":true,"driverLog4jFilePrefix":"log4j","enableSingleSignOn":true,"enableMavenLibraries":true,"displayRowLimit":1000,"deltaProcessingAsyncEnabled":true,"defaultSparkVersion":{"key":"2.0.x-scala2.10","displayName":"Spark 2.0 (Auto-updating, Scala 2.10)","packageLabel":"spark-image-dd209a93dfbacf46690f2f46369e1df041a4c7f7c51e9e7752f6106dfcca9295","upgradable":true,"deprecated":false,"customerVisible":true},"enableCustomSpotPricing":true,"enableMountAclsConfig":false,"useDevTierHomePage":true,"enablePublishHub":false,"notebookHubUrl":"http://hub.dev.databricks.com/","showSqlEndpoints":false,"enableClusterAclsByTier":false,"databricksDocsBaseUrl":"https://docs.databricks.com/","disallowAddingAdmins":true,"enableSparkConfUI":true,"featureTier":"DEVELOPER_BASIC_TIER","enableOrgSwitcherUI":true,"clustersLimit":1,"enableJdbcImport":true,"logfiles":"logfiles/","enableWebappSharding":true,"enableClusterDeltaUpdates":true,"enableSingleSignOnLogin":false,"ebsVolumeSizeLimitGB":{"GENERAL_PURPOSE_SSD":[100,4096],"THROUGHPUT_OPTIMIZED_HDD":[500,4096]},"enableMountAcls":false,"requireEmailUserName":true,"dbcFeedbackURL":"mailto:feedback@databricks.com","enableMountAclService":true,"enableWorkspaceAcls":false,"maxClusterTagKeyLength":127,"gitHash":"1c130e3f2eeb1563bb246dc9e8e275f3a9bd8e84","showWorkspaceFeaturedLinks":true,"signupUrl":"https://databricks.com/try-databricks","allowFeedbackForumAccess":true,"enableImportFromUrl":true,"enableMiniClusters":true,"enableDebugUI":false,"allowNonAdminUsers":true,"enableSingleSignOnByTier":false,"enableJobsRetryOnTimeout":true,"staticNotebookResourceUrl":"https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/","enableSpotClusterType":true,"enableSparkPackages":true,"dynamicSparkVersions":true,"enableNotebookHistoryUI":true,"showDebugCounters":false,"enableInstanceProfilesUI":true,"enableFolderHtmlExport":true,"homepageFeaturedLinks":[{"linkURI":"https://docs.databricks.com/_static/notebooks/gentle-introduction-to-apache-spark.html","displayName":"Introduction to Apache Spark on Databricks","icon":"img/home/Python_icon.svg"},{"linkURI":"https://docs.databricks.com/_static/notebooks/databricks-for-data-scientists.html","displayName":"Databricks for Data Scientists","icon":"img/home/Scala_icon.svg"},{"linkURI":"https://docs.databricks.com/_static/notebooks/structured-streaming-python.html","displayName":"Introduction to Structured Streaming","icon":"img/home/Python_icon.svg"}],"upgradeURL":"https://accounts.cloud.databricks.com/registration.html#login","notebookLoadingBackground":"#fff","sshContainerForwardedPort":2200,"enableServerAutoComplete":true,"enableStaticHtmlImport":true,"enableInstanceProfilesByTier":false,"defaultMemoryPerContainerMB":6000,"enablePresenceUI":true,"accounts":true,"useOnDemandClustersByDefault":true,"useFramedStaticNotebooks":false,"enableNewProgressReportUI":true,"defaultCoresPerContainer":4,"enableNewClustersGet":false,"showSqlProxyUI":true};</script>
<script>var __DATABRICKS_NOTEBOOK_MODEL = {"version":"NotebookV1","origId":332779830979379,"name":"iris-ml","language":"python","commands":[{"version":"CommandV1","origId":332779830979381,"guid":"e4b5c6b6-b819-4969-9cdd-1439efad8372","subtype":"command","commandType":"auto","position":1.0,"command":"# We can use either methods to load Iris data into Spark\n# We are using the latter for better readability. Notice we have already loaded the table in Databricks, thanks to the import UI\n\n#irisDF = sqlContext.read.format(\"csv\").load(\"/FileStore/tables/15vrd1191483447849179/iris.csv\", header=True)\n\nirisDF = sqlContext.sql(\"SELECT * FROM iris\")\ndisplay(irisDF)","commandVersion":0,"state":"finished","results":{"type":"table","data":[[5.1,3.5,1.4,0.2,"Iris-setosa"],[4.9,3.0,1.4,0.2,"Iris-setosa"],[4.7,3.2,1.3,0.2,"Iris-setosa"],[4.6,3.1,1.5,0.2,"Iris-setosa"],[5.0,3.6,1.4,0.2,"Iris-setosa"],[5.4,3.9,1.7,0.4,"Iris-setosa"],[4.6,3.4,1.4,0.3,"Iris-setosa"],[5.0,3.4,1.5,0.2,"Iris-setosa"],[4.4,2.9,1.4,0.2,"Iris-setosa"],[4.9,3.1,1.5,0.1,"Iris-setosa"],[5.4,3.7,1.5,0.2,"Iris-setosa"],[4.8,3.4,1.6,0.2,"Iris-setosa"],[4.8,3.0,1.4,0.1,"Iris-setosa"],[4.3,3.0,1.1,0.1,"Iris-setosa"],[5.8,4.0,1.2,0.2,"Iris-setosa"],[5.7,4.4,1.5,0.4,"Iris-setosa"],[5.4,3.9,1.3,0.4,"Iris-setosa"],[5.1,3.5,1.4,0.3,"Iris-setosa"],[5.7,3.8,1.7,0.3,"Iris-setosa"],[5.1,3.8,1.5,0.3,"Iris-setosa"],[5.4,3.4,1.7,0.2,"Iris-setosa"],[5.1,3.7,1.5,0.4,"Iris-setosa"],[4.6,3.6,1.0,0.2,"Iris-setosa"],[5.1,3.3,1.7,0.5,"Iris-setosa"],[4.8,3.4,1.9,0.2,"Iris-setosa"],[5.0,3.0,1.6,0.2,"Iris-setosa"],[5.0,3.4,1.6,0.4,"Iris-setosa"],[5.2,3.5,1.5,0.2,"Iris-setosa"],[5.2,3.4,1.4,0.2,"Iris-setosa"],[4.7,3.2,1.6,0.2,"Iris-setosa"],[4.8,3.1,1.6,0.2,"Iris-setosa"],[5.4,3.4,1.5,0.4,"Iris-setosa"],[5.2,4.1,1.5,0.1,"Iris-setosa"],[5.5,4.2,1.4,0.2,"Iris-setosa"],[4.9,3.1,1.5,0.2,"Iris-setosa"],[5.0,3.2,1.2,0.2,"Iris-setosa"],[5.5,3.5,1.3,0.2,"Iris-setosa"],[4.9,3.6,1.4,0.1,"Iris-setosa"],[4.4,3.0,1.3,0.2,"Iris-setosa"],[5.1,3.4,1.5,0.2,"Iris-setosa"],[5.0,3.5,1.3,0.3,"Iris-setosa"],[4.5,2.3,1.3,0.3,"Iris-setosa"],[4.4,3.2,1.3,0.2,"Iris-setosa"],[5.0,3.5,1.6,0.6,"Iris-setosa"],[5.1,3.8,1.9,0.4,"Iris-setosa"],[4.8,3.0,1.4,0.3,"Iris-setosa"],[5.1,3.8,1.6,0.2,"Iris-setosa"],[4.6,3.2,1.4,0.2,"Iris-setosa"],[5.3,3.7,1.5,0.2,"Iris-setosa"],[5.0,3.3,1.4,0.2,"Iris-setosa"],[7.0,3.2,4.7,1.4,"Iris-versicolor"],[6.4,3.2,4.5,1.5,"Iris-versicolor"],[6.9,3.1,4.9,1.5,"Iris-versicolor"],[5.5,2.3,4.0,1.3,"Iris-versicolor"],[6.5,2.8,4.6,1.5,"Iris-versicolor"],[5.7,2.8,4.5,1.3,"Iris-versicolor"],[6.3,3.3,4.7,1.6,"Iris-versicolor"],[4.9,2.4,3.3,1.0,"Iris-versicolor"],[6.6,2.9,4.6,1.3,"Iris-versicolor"],[5.2,2.7,3.9,1.4,"Iris-versicolor"],[5.0,2.0,3.5,1.0,"Iris-versicolor"],[5.9,3.0,4.2,1.5,"Iris-versicolor"],[6.0,2.2,4.0,1.0,"Iris-versicolor"],[6.1,2.9,4.7,1.4,"Iris-versicolor"],[5.6,2.9,3.6,1.3,"Iris-versicolor"],[6.7,3.1,4.4,1.4,"Iris-versicolor"],[5.6,3.0,4.5,1.5,"Iris-versicolor"],[5.8,2.7,4.1,1.0,"Iris-versicolor"],[6.2,2.2,4.5,1.5,"Iris-versicolor"],[5.6,2.5,3.9,1.1,"Iris-versicolor"],[5.9,3.2,4.8,1.8,"Iris-versicolor"],[6.1,2.8,4.0,1.3,"Iris-versicolor"],[6.3,2.5,4.9,1.5,"Iris-versicolor"],[6.1,2.8,4.7,1.2,"Iris-versicolor"],[6.4,2.9,4.3,1.3,"Iris-versicolor"],[6.6,3.0,4.4,1.4,"Iris-versicolor"],[6.8,2.8,4.8,1.4,"Iris-versicolor"],[6.7,3.0,5.0,1.7,"Iris-versicolor"],[6.0,2.9,4.5,1.5,"Iris-versicolor"],[5.7,2.6,3.5,1.0,"Iris-versicolor"],[5.5,2.4,3.8,1.1,"Iris-versicolor"],[5.5,2.4,3.7,1.0,"Iris-versicolor"],[5.8,2.7,3.9,1.2,"Iris-versicolor"],[6.0,2.7,5.1,1.6,"Iris-versicolor"],[5.4,3.0,4.5,1.5,"Iris-versicolor"],[6.0,3.4,4.5,1.6,"Iris-versicolor"],[6.7,3.1,4.7,1.5,"Iris-versicolor"],[6.3,2.3,4.4,1.3,"Iris-versicolor"],[5.6,3.0,4.1,1.3,"Iris-versicolor"],[5.5,2.5,4.0,1.3,"Iris-versicolor"],[5.5,2.6,4.4,1.2,"Iris-versicolor"],[6.1,3.0,4.6,1.4,"Iris-versicolor"],[5.8,2.6,4.0,1.2,"Iris-versicolor"],[5.0,2.3,3.3,1.0,"Iris-versicolor"],[5.6,2.7,4.2,1.3,"Iris-versicolor"],[5.7,3.0,4.2,1.2,"Iris-versicolor"],[5.7,2.9,4.2,1.3,"Iris-versicolor"],[6.2,2.9,4.3,1.3,"Iris-versicolor"],[5.1,2.5,3.0,1.1,"Iris-versicolor"],[5.7,2.8,4.1,1.3,"Iris-versicolor"],[6.3,3.3,6.0,2.5,"Iris-virginica"],[5.8,2.7,5.1,1.9,"Iris-virginica"],[7.1,3.0,5.9,2.1,"Iris-virginica"],[6.3,2.9,5.6,1.8,"Iris-virginica"],[6.5,3.0,5.8,2.2,"Iris-virginica"],[7.6,3.0,6.6,2.1,"Iris-virginica"],[4.9,2.5,4.5,1.7,"Iris-virginica"],[7.3,2.9,6.3,1.8,"Iris-virginica"],[6.7,2.5,5.8,1.8,"Iris-virginica"],[7.2,3.6,6.1,2.5,"Iris-virginica"],[6.5,3.2,5.1,2.0,"Iris-virginica"],[6.4,2.7,5.3,1.9,"Iris-virginica"],[6.8,3.0,5.5,2.1,"Iris-virginica"],[5.7,2.5,5.0,2.0,"Iris-virginica"],[5.8,2.8,5.1,2.4,"Iris-virginica"],[6.4,3.2,5.3,2.3,"Iris-virginica"],[6.5,3.0,5.5,1.8,"Iris-virginica"],[7.7,3.8,6.7,2.2,"Iris-virginica"],[7.7,2.6,6.9,2.3,"Iris-virginica"],[6.0,2.2,5.0,1.5,"Iris-virginica"],[6.9,3.2,5.7,2.3,"Iris-virginica"],[5.6,2.8,4.9,2.0,"Iris-virginica"],[7.7,2.8,6.7,2.0,"Iris-virginica"],[6.3,2.7,4.9,1.8,"Iris-virginica"],[6.7,3.3,5.7,2.1,"Iris-virginica"],[7.2,3.2,6.0,1.8,"Iris-virginica"],[6.2,2.8,4.8,1.8,"Iris-virginica"],[6.1,3.0,4.9,1.8,"Iris-virginica"],[6.4,2.8,5.6,2.1,"Iris-virginica"],[7.2,3.0,5.8,1.6,"Iris-virginica"],[7.4,2.8,6.1,1.9,"Iris-virginica"],[7.9,3.8,6.4,2.0,"Iris-virginica"],[6.4,2.8,5.6,2.2,"Iris-virginica"],[6.3,2.8,5.1,1.5,"Iris-virginica"],[6.1,2.6,5.6,1.4,"Iris-virginica"],[7.7,3.0,6.1,2.3,"Iris-virginica"],[6.3,3.4,5.6,2.4,"Iris-virginica"],[6.4,3.1,5.5,1.8,"Iris-virginica"],[6.0,3.0,4.8,1.8,"Iris-virginica"],[6.9,3.1,5.4,2.1,"Iris-virginica"],[6.7,3.1,5.6,2.4,"Iris-virginica"],[6.9,3.1,5.1,2.3,"Iris-virginica"],[5.8,2.7,5.1,1.9,"Iris-virginica"],[6.8,3.2,5.9,2.3,"Iris-virginica"],[6.7,3.3,5.7,2.5,"Iris-virginica"],[6.7,3.0,5.2,2.3,"Iris-virginica"],[6.3,2.5,5.0,1.9,"Iris-virginica"],[6.5,3.0,5.2,2.0,"Iris-virginica"],[6.2,3.4,5.4,2.3,"Iris-virginica"],[5.9,3.0,5.1,1.8,"Iris-virginica"]],"arguments":{},"addedWidgets":{},"removedWidgets":[],"schema":[{"name":"sepal_l","type":"\"float\"","metadata":"{}"},{"name":"sepal_w","type":"\"float\"","metadata":"{}"},{"name":"petal_l","type":"\"float\"","metadata":"{}"},{"name":"petal_w","type":"\"float\"","metadata":"{}"},{"name":"species","type":"\"string\"","metadata":"{}"}],"overflow":false,"aggData":[],"aggSchema":[],"aggOverflow":false,"aggSeriesLimitReached":false,"aggError":"","aggType":"","plotOptions":null,"isJsonSchema":true,"dbfsResultPath":null},"errorSummary":null,"error":null,"workflows":[],"startTime":1.487100459518E12,"submitTime":1.487100404379E12,"finishTime":1.487100463139E12,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"Importing data","showCommandTitle":true,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"eecbc311-7947-44b1-894b-cf4aa2930d1d"},{"version":"CommandV1","origId":332779830979384,"guid":"2a8f66ae-2da8-4858-ab82-c22a763c04e6","subtype":"command","commandType":"auto","position":2.0,"command":"from pyspark.ml import Pipeline\nfrom pyspark.ml.classification import DecisionTreeClassifier\nfrom pyspark.ml.feature import StringIndexer, VectorIndexer, VectorAssembler\nfrom pyspark.ml.evaluation import MulticlassClassificationEvaluator\n\nirisML = irisDF\n\n# splitting data between training and test\n(trainingData, testData) = irisML.randomSplit([0.7, 0.3])\n\nignore = ['species']\n\n# assembling features\n# transforming all the feature columns to one Vector column\nassembler = VectorAssembler(\n  inputCols=[x for x in irisML.columns if x not in ignore],\n  outputCol=\"features\")\nassembled_df = assembler.transform(irisML)\n\n# indexing label col\nlabelIndexer = StringIndexer(inputCol=\"species\", outputCol=\"indexedLabel\")\nlbl_indexed_df = labelIndexer.fit(assembled_df).transform(assembled_df)\n\n# indexing features col\nfeatureIndexer = VectorIndexer(inputCol=\"features\", outputCol=\"indexedFeatures\", maxCategories=4)\nftrs_indexed_df = featureIndexer.fit(lbl_indexed_df).transform(lbl_indexed_df)\n\n# declaring classifier\ndt = DecisionTreeClassifier(labelCol=\"indexedLabel\", featuresCol=\"indexedFeatures\")\n\n# pipelining stages, chaining assembler and indexers\npipeline = Pipeline(stages=[assembler, labelIndexer, featureIndexer, dt])","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"></div>","arguments":{},"addedWidgets":{},"removedWidgets":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1.487100463312E12,"submitTime":1.48710040438E12,"finishTime":1.487100465343E12,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"Setting up the Pipeline","showCommandTitle":true,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"537e3622-78e5-423e-b01c-60264b97e54d"},{"version":"CommandV1","origId":4390251891947251,"guid":"985f792f-199a-4f52-8f64-b867b6deabf7","subtype":"command","commandType":"auto","position":3.0,"command":"# training model\nmodel = pipeline.fit(trainingData)\n# predicting values\npredictions = model.transform(testData)","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\"></div>","arguments":{},"addedWidgets":{},"removedWidgets":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1.487100465351E12,"submitTime":1.487100404382E12,"finishTime":1.487100467873E12,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"Predicting values","showCommandTitle":true,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"680d8bc9-88a9-409a-a003-6490b81ad6d7"},{"version":"CommandV1","origId":4390251891947252,"guid":"f24f16f2-a194-4c09-adab-c56b44a2ddbc","subtype":"command","commandType":"auto","position":4.0,"command":"# printing wrongly predicted values\npredictions.select(\"prediction\", \"indexedLabel\", \"features\").filter(predictions.prediction != predictions.indexedLabel).show()\n\n# measuring accuracy\nevaluator = MulticlassClassificationEvaluator(labelCol=\"indexedLabel\", predictionCol=\"prediction\", metricName=\"accuracy\")\naccuracy = evaluator.evaluate(predictions)\nprint(\"Test Error = %g \" % (1.0 - accuracy))\n\n# printing decision tree\nprint model.stages[3].toDebugString","commandVersion":0,"state":"finished","results":{"type":"html","data":"<div class=\"ansiout\">+----------+------------+--------------------+\n|prediction|indexedLabel|            features|\n+----------+------------+--------------------+\n|       1.0|         2.0|[6.69999980926513...|\n+----------+------------+--------------------+\n\nTest Error = 0.0227273 \nDecisionTreeClassificationModel (uid=DecisionTreeClassifier_4080b2002ba9f29aa33d) of depth 5 with 15 nodes\n  If (feature 2 &lt;= 1.899999976158142)\n   Predict: 0.0\n  Else (feature 2 &gt; 1.899999976158142)\n   If (feature 3 &lt;= 1.600000023841858)\n    If (feature 2 &lt;= 4.900000095367432)\n     Predict: 2.0\n    Else (feature 2 &gt; 4.900000095367432)\n     If (feature 0 &lt;= 6.0)\n      If (feature 1 &lt;= 2.200000047683716)\n       Predict: 1.0\n      Else (feature 1 &gt; 2.200000047683716)\n       Predict: 2.0\n     Else (feature 0 &gt; 6.0)\n      Predict: 1.0\n   Else (feature 3 &gt; 1.600000023841858)\n    If (feature 2 &lt;= 4.800000190734863)\n     If (feature 1 &lt;= 3.0)\n      Predict: 1.0\n     Else (feature 1 &gt; 3.0)\n      Predict: 2.0\n    Else (feature 2 &gt; 4.800000190734863)\n     Predict: 1.0\n\n</div>","arguments":{},"addedWidgets":{},"removedWidgets":[]},"errorSummary":null,"error":null,"workflows":[],"startTime":1.487100467882E12,"submitTime":1.487100404385E12,"finishTime":1.487100468759E12,"collapsed":false,"bindings":{},"inputWidgets":{},"displayType":"table","width":"auto","height":"auto","xColumns":null,"yColumns":null,"pivotColumns":null,"pivotAggregation":null,"customPlotOptions":{},"commentThread":[],"commentsVisible":false,"parentHierarchy":[],"diffInserts":[],"diffDeletes":[],"globalVars":{},"latestUser":"a user","commandTitle":"Post-execution analysis","showCommandTitle":true,"hideCommandCode":false,"hideCommandResult":false,"iPythonMetadata":null,"streamStates":{},"nuid":"b797667c-592b-4395-9318-c695775218fa"}],"dashboards":[],"guid":"aec94c05-ba2b-499b-9d49-199a77f54cb5","globalVars":{},"iPythonMetadata":null,"inputWidgets":{}};</script>
<script
 src="https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/js/notebook-main.js"
 onerror="window.mainJsLoadError = true;"></script>
</head>
<body>
  <script>
if (window.mainJsLoadError) {
  var u = 'https://databricks-prod-cloudfront.cloud.databricks.com/static/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855/js/notebook-main.js';
  var b = document.getElementsByTagName('body')[0];
  var c = document.createElement('div');
  c.innerHTML = ('<h1>Network Error</h1>' +
    '<p><b>Please check your network connection and try again.</b></p>' +
    '<p>Could not load a required resource: ' + u + '</p>');
  c.style.margin = '30px';
  c.style.padding = '20px 50px';
  c.style.backgroundColor = '#f5f5f5';
  c.style.borderRadius = '5px';
  b.appendChild(c);
}
</script>
</body>
</html>
